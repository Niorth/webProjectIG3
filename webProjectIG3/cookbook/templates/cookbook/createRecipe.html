<!doctype html>
<html>

	{% load static %}

	<head>
		<link rel="stylesheet" type="text/css" href="{% static 'cookbook/css/bootstrap/bootstrap.min.css' %}" />
		<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css" integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">
		<link rel="stylesheet" type="text/css" href="{% static 'cookbook/css/style.css' %}" />

		<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
		<script src="{% static 'cookbook/js/jquery-3.4.1.min.js' %}"></script>

		<script src="{% static 'cookbook/js/bootstrap/bootstrap.min.js' %}"></script>

	</head>

	<header>
		<nav class="navbar navbar-expand-lg navbar-dark" id="navbar">
		  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo03" aria-controls="navbarTogglerDemo03" aria-expanded="false" aria-label="Toggle navigation">
		    <span class="navbar-toggler-icon"></span>
		  </button>
		  <a class="navbar-brand" href="#">
		    <img src="{% static 'cookbook/images/cookbookLogo.png' %}" width="30" height="30" class="d-inline-block align-top" alt="">
		    Cookbook
		  </a>

		  <div class="collapse navbar-collapse" id="navbarTogglerDemo03">
			{% if user.is_authenticated %}	
		    <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
		      <li class="nav-item">
		        <a class="nav-link" href="#">Accueil</a>
		      </li>
		      <li class="nav-item">
		        <a class="nav-link" href="#">Mes Recettes</a>
		      </li>
		      <li class="nav-item">
		        <a class="nav-link" href="#">Créer une recette</a>
		      </li>
		    </ul>

		    <form class="form-inline my-2 my-lg-0" id="searchBar">
		      <input class="form-control mr-sm-2" type="search" placeholder="Chercher" aria-label="Search">
		      <button class="btn btn-outline-success my-2 my-sm-0" type="submit"><i class="fas fa-search"></i></button>
		    </form>
		    
		    <ul class="navbar-nav ">
		      <li class="nav-item">
		        <a class="nav-link" id="account" href="{% url 'cookbook:account' %}"><i class="far fa-user navIcon"></i></a>
		      </li>
		      <li class="nav-item">
		        <a class="nav-link" id="account" href="{% url 'cookbook:logout' %}"><i class="fas fa-sign-out-alt navIcon"></i></a>
		      </li>
		    </ul>
		    
		    
		    {% else %}
		    <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
		      <li class="nav-item">
		        <a class="nav-link" href="#">Accueil</a>
		      </li>
		    </ul>
		    <ul class="navbar-nav">
		      <li class="nav-item">
		        <a class="nav-link" href="{% url 'cookbook:login' %}"><button type="button" class="btn btn-outline-success">Connexion</button></a>
		      </li>
		      <li class="nav-item">
		        <a class="nav-link" href="{% url 'cookbook:join' %}"><button type="button" class="btn btn-outline-success">Inscription</button></a>
		      </li>
		    </ul>
		    {% endif %}
		  </div>
		</nav>

	</header>

	<body>
		<h1>Créer une recette</h1>

		{% if messages %}
		{% for message in messages %}
		<p><strong>{{ message }}</strong></p>
		{% endfor %}
		{% endif %}

		<form action="{% url 'cookbook:saveRecipe' %}" method="post">
		{% csrf_token %}
			<p>
				<label for="name">Nom de la recette</label>
			    <input type="text" name="name"/>
			</p>
			<p> 
				<label for="recipe_text">Déroulé</label>
				<input type="text" name="rexipe_text"/>			
			</p>
			<p> 
				<label for="nb_people">Nombre de personne</label>
				<input type="number" name="nb_people"/>			
			</p>
			
			<p>
				<div class="searchBar">
					<label for="ingredient" >Ingredients</label>
					<input type="text" placeholder="Chercher..." name="ingredient" id="searchBarInput" data-ajax-target="{% url 'cookbook:getAllIngredients' %}">
				</div>
				

				<label for="unit">Unité</label>
				<input type="text" placeholder="Kg" name="unit" id="unit">

				<label for="qty">Quantité</label>
				<input type="number" name="qty" id="qty">

				<button type="button" id="addIngredientButton" class="btn btn-dark">Ajouter</button>

				<select class="custom-select" id="ingredientsList" multiple rows=5>
				  <option value="1">
				  	<p>One</p>
				  	<p>foo</p>
				  </option>
				  <option value="2">Two</option>
				  <option value="3">Three</option>
				  <option value="1">One</option>
				  <option value="2">Two</option>
				  <option value="3">Three</option>
				</select>

				<input type="hidden" name="nbIngredient" id="nbIngredient" value=0>

				<button type="button" class="btn btn-dark" id="removeIngredientButton">Retirer</button>
			</p>
			

		<input type="submit" value="Valider" />
		</form>
	</body>

	<footer>
	<script src="{% static 'cookbook/js/searchBar.js' %}"></script>
	<script src="{% static 'cookbook/js/ingredientList.js' %}"></script>


		
	</footer>
</html>