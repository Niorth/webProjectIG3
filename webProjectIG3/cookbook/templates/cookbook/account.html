<!doctype html>
<html>

	{% load static %}

	<head>
		<link rel="stylesheet" type="text/css" href="{% static 'cookbook/css/bootstrap/bootstrap.min.css' %}" />
		<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css" integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">
		<link rel="stylesheet" type="text/css" href="{% static 'cookbook/css/style.css' %}" />

		<script src="{% static 'cookbook/js/jquery-3.4.1.min.js' %}"></script>
		<script src="{% static 'cookbook/js/bootstrap/bootstrap.min.js' %}"></script>

	</head>

	<header>
		<nav class="navbar navbar-expand-lg navbar-dark" id="navbar">
		  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo03" aria-controls="navbarTogglerDemo03" aria-expanded="false" aria-label="Toggle navigation">
		    <span class="navbar-toggler-icon"></span>
		  </button>
		  <a class="navbar-brand" href="{% url 'cookbook:index' %}">
		    <img src="{% static 'cookbook/images/cookbookLogo.png' %}" width="30" height="30" class="d-inline-block align-top" alt="">
		    Cookbook
		  </a>

		  <div class="collapse navbar-collapse" id="navbarTogglerDemo03">
			{% if user.is_authenticated %}	
		    <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
		      <li class="nav-item">
		        <a class="nav-link" href="{% url 'cookbook:index' %}">Accueil</a>
		      </li>
		      <li class="nav-item">
		        <a class="nav-link" href="{% url 'cookbook:recipes' %}">Mes Recettes</a>
		      </li>
		      <li class="nav-item">
		        <a class="nav-link" href="{% url 'cookbook:createRecipe' %}">Créer une recette</a>
		      </li>
		    </ul>

		    <form class="form-inline my-2 my-lg-0" id="searchBarRecipe" action="{% url 'cookbook:getRecipeByName' %}" method="get">
		      <input class="form-control mr-sm-2" id="searchBarRecipeInput" name="name" type="search" placeholder="Chercher" aria-label="Search" data-ajax-target="{% url 'cookbook:getAllRecipes' %}" autocomplete="off">
		      <button class="btn btn-outline-light my-2 my-sm-0" type="submit"><i class="fas fa-search"></i></button>
		    </form>
		    
		    <ul class="navbar-nav ">
		      <li class="nav-item">
		        <a class="nav-link" id="account" href="{% url 'cookbook:account' %}"><i class="far fa-user navIcon"></i></a>
		      </li>
		      <li class="nav-item">
		        <a class="nav-link" id="account" href="{% url 'cookbook:logout' %}"><i class="fas fa-sign-out-alt navIcon"></i></a>
		      </li>
		    </ul>
		    
		    
		    {% else %}
		    <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
		      <li class="nav-item">
		        <a class="nav-link" href="#">Accueil</a>
		      </li>
		    </ul>
		    <ul class="navbar-nav">
		      <li class="nav-item">
		        <a class="nav-link" href="{% url 'cookbook:login' %}"><button type="button" class="btn btn-outline-light">Connexion</button></a>
		      </li>
		      <li class="nav-item">
		        <a class="nav-link" href="{% url 'cookbook:join' %}"><button type="button" class="btn btn-outline-light">Inscription</button></a>
		      </li>
		    </ul>
		    {% endif %}
		  </div>
		</nav>

	</header>

	<body>
		<div class="row">
			<div class="col-md-2"></div>
			<div class="col-md-8" id="formArea">
				<h1 id="formTitle">Mon compte</h1>
				<div id="accountForm">
					{% if messages %}
					{% for message in messages %}
					<p><strong>{{ message }}</strong></p>
					{% endfor %}
					{% endif %}

					<form action="{% url 'cookbook:account' %}" method="put">
						{% csrf_token %}
						<div class="form-row formField">
							<div class="col">
								<label for="field">Nom d'utilisateur</label>
						    	<input class="form-control" type="text" name="field" value='{{ username }}'/>
						    	<input type="hidden" name="type" value="username"/>
						    </div>
					    	<div class="col flex">
					    		<input type="submit" value="Modifier" class="accountBtn btn btn-dark">
					    	</div>
						</div>
					</form>

					<div class="row formField">
						<div class="col">
							<form action="{% url 'cookbook:account' %}" method="post">
								{% csrf_token %}
								<div class="form-row formField">
									<div class="col-md-8">
										<label for="field">Nom</label>
								    	<input class="form-control" type="text" name="field" value='{{ name }}'/>
								    	<input type="hidden" name="type" value="name"/>
									</div>
							    	<div class="col-md-4 flex">
								    	<input type="submit" value="Modifier"  class="accountBtn btn btn-dark">
								    </div>
								</div>
							</form>
						</div>
						<div class="col">
							<form action="{% url 'cookbook:account' %}" method="post">
								{% csrf_token %}
								<div class="form-row formField">
									<div class="col-md-8">
										<label for="field">Prénom</label>
								    	<input class="form-control" type="text" name="field" value='{{ firstname }}'/>
								    	<input type="hidden" name="type" value="firstname"/>
									</div>
							    	<div class="col-md-4 flex">
								    	<input type="submit" value="Modifier" class="accountBtn btn btn-dark">
								    </div>
								</div>
							</form>
						</div>
					</div>

						<form action="{% url 'cookbook:account' %}" method="post">
							{% csrf_token %}
							<div class="form-row formField">
								<div class="col">
									<label for="field">Email</label>
							    	<input class="form-control" type="email" name="field" value='{{ email }}'/>
							    	<input type="hidden" name="type" value="email"/>
							    	</div>
							    	<div class="col flex">
							    	<input type="submit" value="Modifier" class="accountBtn btn btn-dark">
							    </div>
							</div>
						</form>

					<form action="{% url 'cookbook:account' %}" method="post">
						{% csrf_token %}
						<div class="form-row formField">
							<div class="col-md-5">
								<label for="field">Mot de passe</label>
						    	<input class="form-control" type="password" name="oldPassword"/>
						    </div>
						    <div class="col-md-5">
						    	<label for="field">Nouveau mot de passe</label>
						    	<input class="form-control" type="password" name="field"/>

						    	<input type="hidden" name="type" value="password"/>
						    </div>
							<div class="col-md-2 flex">
						    	<input type="submit" value="Modifier" class="accountBtn btn btn-dark">
						    </div>
						</div>
					</form>
				</div>
			</div>
			<div class="col-md-2"></div>

		</div>
	</body>

	<footer>
		<script src="{% static 'cookbook/js/searchBar.js' %}"></script>
	</footer>
</html>